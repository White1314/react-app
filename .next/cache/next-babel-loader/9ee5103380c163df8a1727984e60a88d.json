{"ast":null,"code":"import _Avatar from \"antd/lib/avatar\";\nimport _Tabs from \"antd/lib/tabs\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useSelector } from 'react-redux';\nimport MarkdowIt from 'markdown-it'; // markdown-body\n\nimport 'github-markdown-css';\nimport { getApiData } from '../server/utils.js';\nimport * as actions from '../actions';\nimport Markdown from '../components/Markdown';\nconst md = new MarkdowIt({\n  html: true,\n  linkify: true\n});\n\nconst Detail = ({}) => {\n  var _userRepo$owner, _userRepo$owner2, _userRepo$owner3;\n\n  const userRepo = useSelector(state => state.detail.user_repo);\n  const repoReadme = useSelector(state => state.detail.repo_readme);\n  const repoIssues = useSelector(state => state.detail.repo_issues);\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"jsx-2519533287\" + \" \" + \"root\"\n  }, __jsx(\"div\", {\n    className: \"jsx-2519533287\" + \" \" + \"head\"\n  }, __jsx(\"img\", {\n    src: (_userRepo$owner = userRepo.owner) === null || _userRepo$owner === void 0 ? void 0 : _userRepo$owner.avatar_url,\n    alt: \"\",\n    className: \"jsx-2519533287\" + \" \" + \"head-img\"\n  }), __jsx(\"span\", {\n    className: \"jsx-2519533287\" + \" \" + \"head-login\"\n  }, (_userRepo$owner2 = userRepo.owner) === null || _userRepo$owner2 === void 0 ? void 0 : _userRepo$owner2.login), __jsx(\"a\", {\n    className: \"jsx-2519533287\" + \" \" + \"head-name\"\n  }, `${userRepo.name} / ${(_userRepo$owner3 = userRepo.owner) === null || _userRepo$owner3 === void 0 ? void 0 : _userRepo$owner3.login}`)), __jsx(\"div\", {\n    className: \"jsx-2519533287\" + \" \" + \"markdown-body\"\n  }, __jsx(_Tabs, {\n    defaultActiveKey: \"0\",\n    animated: false\n  }, __jsx(_Tabs.TabPane, {\n    tab: \"\\u6587\\u6863\",\n    key: \"0\"\n  }, __jsx(Markdown, {\n    content: repoReadme.content,\n    isBase64: true\n  })), __jsx(_Tabs.TabPane, {\n    tab: \"\\u8BA8\\u8BBA\",\n    key: \"1\"\n  }, repoIssues.map(item => __jsx(\"div\", {\n    className: \"jsx-2519533287\" + \" \" + \"issues\"\n  }, __jsx(\"div\", {\n    className: \"jsx-2519533287\" + \" \" + \"avatar\"\n  }, __jsx(_Avatar, {\n    src: item.user.avatar_url,\n    shape: \"square\",\n    size: 50\n  })), __jsx(\"div\", {\n    className: \"jsx-2519533287\" + \" \" + \"main-info\"\n  }, __jsx(\"h6\", {\n    className: \"jsx-2519533287\"\n  }, __jsx(\"span\", {\n    className: \"jsx-2519533287\"\n  }, item.title)), __jsx(\"p\", {\n    className: \"jsx-2519533287\" + \" \" + \"sub-info\"\n  }, __jsx(\"span\", {\n    className: \"jsx-2519533287\"\n  }, \"Updated at \", item.updated_at))))))))), __jsx(_JSXStyle, {\n    id: \"2519533287\"\n  }, \".root.jsx-2519533287{height:100%;overflow-y:auto;}.head.jsx-2519533287{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;}.head-img.jsx-2519533287{width:30px;height:30px;}.head-login.jsx-2519533287{color:#666;margin:0 10px;}.head-name.jsx-2519533287{font-weight:500;}.issues.jsx-2519533287{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;position:relative;padding:10px;}.issues.jsx-2519533287:hover{border-top:1px solid #eee;background:#fafafa;}.main-info.jsx-2519533287 h6.jsx-2519533287{max-width:600px;font-size:16px;}.avatar.jsx-2519533287{margin-right:20px;}.sub-info.jsx-2519533287{margin-bottom:0;}.sub-info.jsx-2519533287 span.jsx-2519533287{display:inline-block;margin-left:20px;font-size:12px;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFwzNjBEb3dubG9hZHNcXFZzY29kZVxccHJvZ3JhbVxcTmV4dC1HaXRodWItQXBwXFxwYWdlc1xcZGV0YWlsLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUEwRWtCLEFBR3VCLEFBSUMsQUFLRixBQUlBLEFBSUssQUFHSCxBQUthLEFBSVYsQUFJRSxBQUdGLEFBR0ssV0E3QlQsQUFJRSxDQWJFLElBaUJsQixBQVlpQixBQU9qQixFQUhBLEdBTW1CLEVBN0JuQixFQUlBLENBV3FCLEVBeEJyQixHQTZCQSxPQVVpQixPQWRqQixRQWVBLHFCQXJDcUIsQUFnQkQsa0JBQ0wsYUFDZiw4REFqQmlCLGVBQ2pCIiwiZmlsZSI6IkQ6XFwzNjBEb3dubG9hZHNcXFZzY29kZVxccHJvZ3JhbVxcTmV4dC1HaXRodWItQXBwXFxwYWdlc1xcZGV0YWlsLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRhYnMgfSBmcm9tICdhbnRkJztcclxuaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbmltcG9ydCBNYXJrZG93SXQgZnJvbSAnbWFya2Rvd24taXQnO1xyXG4vLyBtYXJrZG93bi1ib2R5XHJcbmltcG9ydCAnZ2l0aHViLW1hcmtkb3duLWNzcyc7XHJcbmltcG9ydCB7IEF2YXRhciB9IGZyb20gJ2FudGQnO1xyXG5cclxuaW1wb3J0IHsgZ2V0QXBpRGF0YSB9IGZyb20gJy4uL3NlcnZlci91dGlscy5qcyc7XHJcbmltcG9ydCAqIGFzIGFjdGlvbnMgZnJvbSAnLi4vYWN0aW9ucyc7XHJcbmltcG9ydCBNYXJrZG93biBmcm9tICcuLi9jb21wb25lbnRzL01hcmtkb3duJztcclxuXHJcbmNvbnN0IG1kID0gbmV3IE1hcmtkb3dJdCh7XHJcbiAgaHRtbDogdHJ1ZSxcclxuICBsaW5raWZ5OiB0cnVlLFxyXG59KTtcclxuXHJcbmludGVyZmFjZSBTIHtcclxuICBkZXRhaWw6IHtcclxuICAgIHVzZXJfcmVwbz86IHtcclxuICAgICAgbmFtZTogc3RyaW5nO1xyXG4gICAgICBvd25lcjoge1xyXG4gICAgICAgIGF2YXRhcl91cmw6IHN0cmluZztcclxuICAgICAgICBsb2dpbjogc3RyaW5nO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICAgIHJlcG9fcmVhZG1lPzoge1xyXG4gICAgICBjb250ZW50OiBhbnk7XHJcbiAgICB9O1xyXG4gICAgcmVwb19pc3N1ZXM6IGFueTtcclxuICB9O1xyXG59XHJcblxyXG5jb25zdCBEZXRhaWwgPSAoe30pID0+IHtcclxuICBjb25zdCB1c2VyUmVwbyA9IHVzZVNlbGVjdG9yKChzdGF0ZTogUykgPT4gc3RhdGUuZGV0YWlsLnVzZXJfcmVwbyk7XHJcbiAgY29uc3QgcmVwb1JlYWRtZSA9IHVzZVNlbGVjdG9yKChzdGF0ZTogUykgPT4gc3RhdGUuZGV0YWlsLnJlcG9fcmVhZG1lKTtcclxuICBjb25zdCByZXBvSXNzdWVzID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBTKSA9PiBzdGF0ZS5kZXRhaWwucmVwb19pc3N1ZXMpO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb290XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkXCI+XHJcbiAgICAgICAgICA8aW1nIHNyYz17dXNlclJlcG8ub3duZXI/LmF2YXRhcl91cmx9IGFsdD1cIlwiIGNsYXNzTmFtZT1cImhlYWQtaW1nXCIgLz5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImhlYWQtbG9naW5cIj57dXNlclJlcG8ub3duZXI/LmxvZ2lufTwvc3Bhbj5cclxuICAgICAgICAgIDxhIGNsYXNzTmFtZT1cImhlYWQtbmFtZVwiPntgJHt1c2VyUmVwby5uYW1lfSAvICR7dXNlclJlcG8ub3duZXI/LmxvZ2lufWB9PC9hPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWFya2Rvd24tYm9keVwiPlxyXG4gICAgICAgICAgPFRhYnMgZGVmYXVsdEFjdGl2ZUtleT1cIjBcIiBhbmltYXRlZD17ZmFsc2V9PlxyXG4gICAgICAgICAgICA8VGFicy5UYWJQYW5lIHRhYj1cIuaWh+aho1wiIGtleT1cIjBcIj5cclxuICAgICAgICAgICAgICA8TWFya2Rvd24gY29udGVudD17cmVwb1JlYWRtZS5jb250ZW50fSBpc0Jhc2U2ND17dHJ1ZX0gLz5cclxuICAgICAgICAgICAgPC9UYWJzLlRhYlBhbmU+XHJcbiAgICAgICAgICAgIDxUYWJzLlRhYlBhbmUgdGFiPVwi6K6o6K66XCIga2V5PVwiMVwiPlxyXG4gICAgICAgICAgICAgIHtyZXBvSXNzdWVzLm1hcCgoaXRlbTogYW55KSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImlzc3Vlc1wiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImF2YXRhclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxBdmF0YXJcclxuICAgICAgICAgICAgICAgICAgICAgIHNyYz17aXRlbS51c2VyLmF2YXRhcl91cmx9XHJcbiAgICAgICAgICAgICAgICAgICAgICBzaGFwZT1cInNxdWFyZVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICBzaXplPXs1MH1cclxuICAgICAgICAgICAgICAgICAgICAvPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYWluLWluZm9cIj5cclxuICAgICAgICAgICAgICAgICAgICA8aDY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57aXRlbS50aXRsZX08L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9oNj5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJzdWItaW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPHNwYW4+VXBkYXRlZCBhdCB7aXRlbS51cGRhdGVkX2F0fTwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICAgICA8L3A+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgKSl9XHJcbiAgICAgICAgICAgIDwvVGFicy5UYWJQYW5lPlxyXG4gICAgICAgICAgPC9UYWJzPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgIC5yb290IHtcclxuICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5oZWFkIHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICAgIH1cclxuICAgICAgICAuaGVhZC1pbWcge1xyXG4gICAgICAgICAgd2lkdGg6IDMwcHg7XHJcbiAgICAgICAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5oZWFkLWxvZ2luIHtcclxuICAgICAgICAgIGNvbG9yOiAjNjY2O1xyXG4gICAgICAgICAgbWFyZ2luOiAwIDEwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5oZWFkLW5hbWUge1xyXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLmlzc3VlcyB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgICAgcGFkZGluZzogMTBweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLmlzc3Vlczpob3ZlciB7XHJcbiAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgI2VlZTtcclxuICAgICAgICAgIGJhY2tncm91bmQ6ICNmYWZhZmE7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5tYWluLWluZm8gaDYge1xyXG4gICAgICAgICAgbWF4LXdpZHRoOiA2MDBweDtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLmF2YXRhciB7XHJcbiAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDIwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5zdWItaW5mbyB7XHJcbiAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICAuc3ViLWluZm8gc3BhbiB7XHJcbiAgICAgICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbiAgICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICB9XHJcbiAgICAgIGB9PC9zdHlsZT5cclxuICAgIDwvPlxyXG4gICk7XHJcbn07XHJcblxyXG5EZXRhaWwuZ2V0SW5pdGlhbFByb3BzID0gYXN5bmMgKHsgY3R4IH0pID0+IHtcclxuICBjb25zdCB7IHN0b3JlIH0gPSBjdHg7XHJcblxyXG4gIGNvbnN0IGRldGFpbFVzZXJSZXBvRGF0YSA9IGF3YWl0IGdldEFwaURhdGEoY3R4LCAnL2FwaS9kZXRhaWwvdXNlcicpO1xyXG4gIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMuZ2V0RGV0YWlsUmVwb3MoZGV0YWlsVXNlclJlcG9EYXRhKSk7XHJcblxyXG4gIGNvbnN0IGRldGFpbFJlcG9zUmVhZG1lRGF0YSA9IGF3YWl0IGdldEFwaURhdGEoY3R4LCAnL2FwaS9kZXRhaWwvcmVhZG1lJyk7XHJcbiAgc3RvcmUuZGlzcGF0Y2goYWN0aW9ucy5nZXRSZXBvUmVhZG1lKGRldGFpbFJlcG9zUmVhZG1lRGF0YSkpO1xyXG5cclxuICBjb25zdCBkZXRhaWxVc2VySXNzdWVzRGF0YSA9IGF3YWl0IGdldEFwaURhdGEoY3R4LCAnL2FwaS9kZXRhaWwvaXNzdWVzJyk7XHJcbiAgc3RvcmUuZGlzcGF0Y2goYWN0aW9ucy5nZXRSZXBvSXNzdWVzKGRldGFpbFVzZXJJc3N1ZXNEYXRhKSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBEZXRhaWw7XHJcbiJdfQ== */\\n/*@ sourceURL=D:\\\\\\\\360Downloads\\\\\\\\Vscode\\\\\\\\program\\\\\\\\Next-Github-App\\\\\\\\pages\\\\\\\\detail.tsx */\"));\n};\n\nDetail.getInitialProps = async ({\n  ctx\n}) => {\n  const {\n    store\n  } = ctx;\n  const detailUserRepoData = await getApiData(ctx, '/api/detail/user');\n  store.dispatch(actions.getDetailRepos(detailUserRepoData));\n  const detailReposReadmeData = await getApiData(ctx, '/api/detail/readme');\n  store.dispatch(actions.getRepoReadme(detailReposReadmeData));\n  const detailUserIssuesData = await getApiData(ctx, '/api/detail/issues');\n  store.dispatch(actions.getRepoIssues(detailUserIssuesData));\n};\n\nexport default Detail;","map":{"version":3,"sources":["D:/360Downloads/Vscode/program/Next-Github-App/pages/detail.tsx"],"names":["useSelector","MarkdowIt","getApiData","actions","Markdown","md","html","linkify","Detail","userRepo","state","detail","user_repo","repoReadme","repo_readme","repoIssues","repo_issues","owner","avatar_url","login","name","content","map","item","user","title","updated_at","getInitialProps","ctx","store","detailUserRepoData","dispatch","getDetailRepos","detailReposReadmeData","getRepoReadme","detailUserIssuesData","getRepoIssues"],"mappings":"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","sourcesContent":["import { Tabs } from 'antd';\r\nimport { useSelector } from 'react-redux';\r\nimport MarkdowIt from 'markdown-it';\r\n// markdown-body\r\nimport 'github-markdown-css';\r\nimport { Avatar } from 'antd';\r\n\r\nimport { getApiData } from '../server/utils.js';\r\nimport * as actions from '../actions';\r\nimport Markdown from '../components/Markdown';\r\n\r\nconst md = new MarkdowIt({\r\n  html: true,\r\n  linkify: true,\r\n});\r\n\r\ninterface S {\r\n  detail: {\r\n    user_repo?: {\r\n      name: string;\r\n      owner: {\r\n        avatar_url: string;\r\n        login: string;\r\n      };\r\n    };\r\n    repo_readme?: {\r\n      content: any;\r\n    };\r\n    repo_issues: any;\r\n  };\r\n}\r\n\r\nconst Detail = ({}) => {\r\n  const userRepo = useSelector((state: S) => state.detail.user_repo);\r\n  const repoReadme = useSelector((state: S) => state.detail.repo_readme);\r\n  const repoIssues = useSelector((state: S) => state.detail.repo_issues);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"root\">\r\n        <div className=\"head\">\r\n          <img src={userRepo.owner?.avatar_url} alt=\"\" className=\"head-img\" />\r\n          <span className=\"head-login\">{userRepo.owner?.login}</span>\r\n          <a className=\"head-name\">{`${userRepo.name} / ${userRepo.owner?.login}`}</a>\r\n        </div>\r\n        <div className=\"markdown-body\">\r\n          <Tabs defaultActiveKey=\"0\" animated={false}>\r\n            <Tabs.TabPane tab=\"文档\" key=\"0\">\r\n              <Markdown content={repoReadme.content} isBase64={true} />\r\n            </Tabs.TabPane>\r\n            <Tabs.TabPane tab=\"讨论\" key=\"1\">\r\n              {repoIssues.map((item: any) => (\r\n                <div className=\"issues\">\r\n                  <div className=\"avatar\">\r\n                    <Avatar\r\n                      src={item.user.avatar_url}\r\n                      shape=\"square\"\r\n                      size={50}\r\n                    />\r\n                  </div>\r\n                  <div className=\"main-info\">\r\n                    <h6>\r\n                      <span>{item.title}</span>\r\n                    </h6>\r\n                    <p className=\"sub-info\">\r\n                      <span>Updated at {item.updated_at}</span>\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </Tabs.TabPane>\r\n          </Tabs>\r\n        </div>\r\n      </div>\r\n      <style jsx>{`\r\n        .root {\r\n          height: 100%;\r\n          overflow-y: auto;\r\n        }\r\n        .head {\r\n          display: flex;\r\n          align-items: center;\r\n          font-size: 12px;\r\n        }\r\n        .head-img {\r\n          width: 30px;\r\n          height: 30px;\r\n        }\r\n        .head-login {\r\n          color: #666;\r\n          margin: 0 10px;\r\n        }\r\n        .head-name {\r\n          font-weight: 500;\r\n        }\r\n        .issues {\r\n          display: flex;\r\n          position: relative;\r\n          padding: 10px;\r\n        }\r\n        .issues:hover {\r\n          border-top: 1px solid #eee;\r\n          background: #fafafa;\r\n        }\r\n        .main-info h6 {\r\n          max-width: 600px;\r\n          font-size: 16px;\r\n        }\r\n        .avatar {\r\n          margin-right: 20px;\r\n        }\r\n        .sub-info {\r\n          margin-bottom: 0;\r\n        }\r\n        .sub-info span {\r\n          display: inline-block;\r\n          margin-left: 20px;\r\n          font-size: 12px;\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nDetail.getInitialProps = async ({ ctx }) => {\r\n  const { store } = ctx;\r\n\r\n  const detailUserRepoData = await getApiData(ctx, '/api/detail/user');\r\n  store.dispatch(actions.getDetailRepos(detailUserRepoData));\r\n\r\n  const detailReposReadmeData = await getApiData(ctx, '/api/detail/readme');\r\n  store.dispatch(actions.getRepoReadme(detailReposReadmeData));\r\n\r\n  const detailUserIssuesData = await getApiData(ctx, '/api/detail/issues');\r\n  store.dispatch(actions.getRepoIssues(detailUserIssuesData));\r\n};\r\n\r\nexport default Detail;\r\n"]},"metadata":{},"sourceType":"module"}