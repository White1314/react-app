{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport \"antd/lib/button/style/css\";\nimport _Button from \"antd/lib/button\";\nimport _objectDestructuringEmpty from \"@babel/runtime/helpers/esm/objectDestructuringEmpty\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useSelector } from 'react-redux'; //import Link from 'next/link';\n\nvar Index = function Index(_ref) {\n  _objectDestructuringEmpty(_ref);\n\n  var _useSelector = useSelector(function (state) {\n    return state.user;\n  }),\n      id = _useSelector.id;\n\n  return __jsx(React.Fragment, null, !id ? __jsx(\"div\", {\n    className: \"jsx-941991213\" + \" \" + \"root\"\n  }, __jsx(_Button, {\n    type: \"primary\"\n  }, \"\\u70B9\\u51FB\\u767B\\u5F55\")) : __jsx(\"div\", {\n    className: \"jsx-941991213\"\n  }, \"index\"), __jsx(_JSXStyle, {\n    id: \"941991213\"\n  }, \".root.jsx-941991213{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFwzNjBEb3dubG9hZHNcXFZzY29kZVxccHJvZ3JhbVxcTmV4dC1HaXRodWItQXBwXFxwYWdlc1xcaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXdCUyxBQUd3QixXQUNDLFlBQ0MsMEVBQ1UsbUdBQ0osNkZBQ3JCIiwiZmlsZSI6IkQ6XFwzNjBEb3dubG9hZHNcXFZzY29kZVxccHJvZ3JhbVxcTmV4dC1HaXRodWItQXBwXFxwYWdlc1xcaW5kZXgudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcbi8vaW1wb3J0IExpbmsgZnJvbSAnbmV4dC9saW5rJztcclxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSAnYW50ZCc7XHJcblxyXG5pbXBvcnQgKiBhcyBhY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMnO1xyXG4vL2ltcG9ydCBwb3N0IGZyb20gJy4uL2F4aW9zJztcclxuLy9pbXBvcnQgeyBnZXRBcGlEYXRhIH0gZnJvbSAnLi4vc2VydmVyL3V0aWxzLmpzJztcclxuXHJcbmludGVyZmFjZSBTIHtcclxuICB1c2VyOiB7IGlkPzogbnVtYmVyIH07XHJcbn1cclxuXHJcbmNvbnN0IEluZGV4ID0gKHt9KSA9PiB7XHJcbiAgY29uc3QgeyBpZCB9ID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBTKSA9PiBzdGF0ZS51c2VyKTtcclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAgeyFpZCA/IChcclxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvb3RcIj5cclxuICAgICAgICAgIDxCdXR0b24gdHlwZT1cInByaW1hcnlcIj7ngrnlh7vnmbvlvZU8L0J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgKSA6IChcclxuICAgICAgICA8ZGl2PmluZGV4PC9kaXY+XHJcbiAgICAgICl9XHJcbiAgICAgIDxzdHlsZSBqc3g+XHJcbiAgICAgICAge2BcclxuICAgICAgICAgIC5yb290IHtcclxuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgYH1cclxuICAgICAgPC9zdHlsZT5cclxuICAgIDwvPlxyXG4gICk7XHJcbn07XHJcblxyXG5JbmRleC5nZXRJbml0aWFsUHJvcHMgPSBhc3luYyAoeyBjdHggfSkgPT4ge1xyXG4gIC8vIOivt+axgiBnaXRodWIg5pWw5o2u77yM5Zug5Li65LiN6IO95pq06ZyyIHRva2Vu77yM5bCG6K+35rGC5Luj55CG5Yiw5pyN5Yqh5ZmoXHJcbiAgLy8g5pyN5Yqh5Zmo5riy5p+T6buY6K6k56uv5Y+j5Li6IDgwXHJcbiAgY29uc3QgeyBzdG9yZSB9ID0gY3R4O1xyXG4gIC8qXHJcbiAgY29uc3QgcmVwb0RhdGEgPSBhd2FpdCBnZXRBcGlEYXRhKGN0eCwgJy9hcGkvcmVwb3NpdG9yeScpO1xyXG4gIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMuZ2V0R2l0aHViUmVwb3NpdG9yeShyZXBvRGF0YSkpO1xyXG4gICovXHJcbiAgLyogIOafpeeci+eUqOaIt+S7k+W6k+S/oeaBr+mcgOWFiOeZu+W9lVxyXG4gIGNvbnN0IHVzZXJfaWQgPSBzdG9yZS5nZXRTdGF0ZSgpLnVzZXIuaWQ7XHJcbiAgaWYoIXVzZXJfaWQpIHtcclxuICAgIHJldHVybjtcclxuICB9XHJcbiAgKi9cclxuICAvL2NvbnN0IHVzZXJSZXBvRGF0YSA9IGF3YWl0IGdldEFwaURhdGEoY3R4LCAnL2FwaS91c2VyL3JlcG9zJyk7XHJcbiAgLy9zdG9yZS5kaXNwYXRjaChhY3Rpb25zLmdldFVzZXJSZXBvcyh1c2VyUmVwb0RhdGEpKTtcclxuICAvL2NvbnN0IHVzZXJTdGFycmVkUmVwb0RhdGEgPSBhd2FpdCBnZXRBcGlEYXRhKGN0eCwgJy9hcGkvdXNlci9zdGFycmVkJyk7XHJcbiAgLy9zdG9yZS5kaXNwYXRjaChhY3Rpb25zLmdldFVzZXJSZXBvcyh1c2VyU3RhcnJlZFJlcG9EYXRhKSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbmRleDtcclxuIl19 */\\n/*@ sourceURL=D:\\\\\\\\360Downloads\\\\\\\\Vscode\\\\\\\\program\\\\\\\\Next-Github-App\\\\\\\\pages\\\\\\\\index.tsx */\"));\n};\n\nIndex.getInitialProps = function _callee(_ref2) {\n  var ctx, store;\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          ctx = _ref2.ctx;\n          // 请求 github 数据，因为不能暴露 token，将请求代理到服务器\n          // 服务器渲染默认端口为 80\n          store = ctx.store;\n          /*\r\n          const repoData = await getApiData(ctx, '/api/repository');\r\n          store.dispatch(actions.getGithubRepository(repoData));\r\n          */\n\n          /*  查看用户仓库信息需先登录\r\n          const user_id = store.getState().user.id;\r\n          if(!user_id) {\r\n            return;\r\n          }\r\n          */\n          //const userRepoData = await getApiData(ctx, '/api/user/repos');\n          //store.dispatch(actions.getUserRepos(userRepoData));\n          //const userStarredRepoData = await getApiData(ctx, '/api/user/starred');\n          //store.dispatch(actions.getUserRepos(userStarredRepoData));\n\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default Index;","map":{"version":3,"sources":["D:/360Downloads/Vscode/program/Next-Github-App/pages/index.tsx"],"names":["useSelector","Index","state","user","id","getInitialProps","ctx","store"],"mappings":";;;;;;;AAAA,SAASA,WAAT,QAA4B,aAA5B,C,CACA;;AAWA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAAQ;AAAA;;AAAA,qBACLD,WAAW,CAAC,UAACE,KAAD;AAAA,WAAcA,KAAK,CAACC,IAApB;AAAA,GAAD,CADN;AAAA,MACZC,EADY,gBACZA,EADY;;AAEpB,SACE,4BACG,CAACA,EAAD,GACC;AAAA,uCAAe;AAAf,KACE;AAAQ,IAAA,IAAI,EAAC;AAAb,gCADF,CADD,GAKC;AAAA;AAAA,aANJ;AAAA;AAAA,uhGADF;AAsBD,CAxBD;;AA0BAH,KAAK,CAACI,eAAN,GAAwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAASC,UAAAA,GAAT,SAASA,GAAT;AACtB;AACA;AACQC,UAAAA,KAHc,GAGJD,GAHI,CAGdC,KAHc;AAItB;;;;;AAIA;;;;;;AAMA;AACA;AACA;AACA;;AAjBsB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,CAAxB;;AAoBA,eAAeN,KAAf","sourcesContent":["import { useSelector } from 'react-redux';\r\n//import Link from 'next/link';\r\nimport { Button } from 'antd';\r\n\r\nimport * as actions from '../actions';\r\n//import post from '../axios';\r\n//import { getApiData } from '../server/utils.js';\r\n\r\ninterface S {\r\n  user: { id?: number };\r\n}\r\n\r\nconst Index = ({}) => {\r\n  const { id } = useSelector((state: S) => state.user);\r\n  return (\r\n    <>\r\n      {!id ? (\r\n        <div className=\"root\">\r\n          <Button type=\"primary\">点击登录</Button>\r\n        </div>\r\n      ) : (\r\n        <div>index</div>\r\n      )}\r\n      <style jsx>\r\n        {`\r\n          .root {\r\n            width: 100%;\r\n            height: 100%;\r\n            display: flex;\r\n            justify-content: center;\r\n            align-items: center;\r\n          }\r\n        `}\r\n      </style>\r\n    </>\r\n  );\r\n};\r\n\r\nIndex.getInitialProps = async ({ ctx }) => {\r\n  // 请求 github 数据，因为不能暴露 token，将请求代理到服务器\r\n  // 服务器渲染默认端口为 80\r\n  const { store } = ctx;\r\n  /*\r\n  const repoData = await getApiData(ctx, '/api/repository');\r\n  store.dispatch(actions.getGithubRepository(repoData));\r\n  */\r\n  /*  查看用户仓库信息需先登录\r\n  const user_id = store.getState().user.id;\r\n  if(!user_id) {\r\n    return;\r\n  }\r\n  */\r\n  //const userRepoData = await getApiData(ctx, '/api/user/repos');\r\n  //store.dispatch(actions.getUserRepos(userRepoData));\r\n  //const userStarredRepoData = await getApiData(ctx, '/api/user/starred');\r\n  //store.dispatch(actions.getUserRepos(userStarredRepoData));\r\n};\r\n\r\nexport default Index;\r\n"]},"metadata":{},"sourceType":"module"}