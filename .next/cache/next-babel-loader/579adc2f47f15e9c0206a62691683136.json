{"ast":null,"code":"import _Select from \"antd/lib/select\";\nimport _Spin from \"antd/lib/spin\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport debounce from 'lodash/debounce';\nimport { getApiData } from '../server/utils.js';\n\nconst SearchUser = () => {\n  const {\n    0: search,\n    1: setSearch\n  } = useState(false);\n  const {\n    0: items,\n    1: setItems\n  } = useState([]);\n  const searchUser = debounce(async value => {\n    setSearch(true);\n    setItems([]);\n    const data = value ? await getApiData(null, `/search/users?q=${value}`) : {};\n    const items = data.items || [];\n    console.log(items);\n    setSearch(false);\n    setItems(items);\n  }, 3000);\n  return __jsx(_Select, {\n    showSearch: true,\n    notFoundContent: search ? __jsx(_Spin, {\n      size: \"small\"\n    }) : __jsx(\"span\", null, \"no data\"),\n    filterOption: false,\n    placeholder: \"\\u641C\\u7D22\\u7528\\u6237\",\n    allowClear: true,\n    onSearch: searchUser,\n    style: {\n      width: 150,\n      marginBottom: 20\n    }\n  }, items.map(item => __jsx(_Select.Option, {\n    value: item.value,\n    key: item.value\n  }, item.login)));\n};\n\nexport default SearchUser;","map":{"version":3,"sources":["D:/360Downloads/Vscode/program/Next-Github-App/components/SearchUser.tsx"],"names":["useState","debounce","getApiData","SearchUser","search","setSearch","items","setItems","searchUser","value","data","console","log","width","marginBottom","map","item","login"],"mappings":";;;;AAAA,SAASA,QAAT,QAAyB,OAAzB;AAEA,OAAOC,QAAP,MAAqB,iBAArB;AAEA,SAASC,UAAT,QAA2B,oBAA3B;;AAEA,MAAMC,UAAU,GAAG,MAAM;AACvB,QAAM;AAAA,OAACC,MAAD;AAAA,OAASC;AAAT,MAAsBL,QAAQ,CAAC,KAAD,CAApC;AACA,QAAM;AAAA,OAACM,KAAD;AAAA,OAAQC;AAAR,MAAoBP,QAAQ,CAAC,EAAD,CAAlC;AAEA,QAAMQ,UAAU,GAAGP,QAAQ,CAAC,MAAOQ,KAAP,IAAyB;AACnDJ,IAAAA,SAAS,CAAC,IAAD,CAAT;AACAE,IAAAA,QAAQ,CAAC,EAAD,CAAR;AACA,UAAMG,IAAI,GAAGD,KAAK,GACd,MAAMP,UAAU,CAAC,IAAD,EAAQ,mBAAkBO,KAAM,EAAhC,CADF,GAEd,EAFJ;AAGA,UAAMH,KAAK,GAAGI,IAAI,CAACJ,KAAL,IAAc,EAA5B;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYN,KAAZ;AACAD,IAAAA,SAAS,CAAC,KAAD,CAAT;AACAE,IAAAA,QAAQ,CAACD,KAAD,CAAR;AACD,GAV0B,EAUxB,IAVwB,CAA3B;AAYA,SACE;AACE,IAAA,UAAU,EAAE,IADd;AAEE,IAAA,eAAe,EAAEF,MAAM,GAAG;AAAM,MAAA,IAAI,EAAC;AAAX,MAAH,GAA2B,8BAFpD;AAGE,IAAA,YAAY,EAAE,KAHhB;AAIE,IAAA,WAAW,EAAC,0BAJd;AAKE,IAAA,UAAU,EAAE,IALd;AAME,IAAA,QAAQ,EAAEI,UANZ;AAOE,IAAA,KAAK,EAAE;AAAEK,MAAAA,KAAK,EAAE,GAAT;AAAcC,MAAAA,YAAY,EAAE;AAA5B;AAPT,KASGR,KAAK,CAACS,GAAN,CAAWC,IAAD,IACT,cAAQ,MAAR;AAAe,IAAA,KAAK,EAAEA,IAAI,CAACP,KAA3B;AAAkC,IAAA,GAAG,EAAEO,IAAI,CAACP;AAA5C,KACGO,IAAI,CAACC,KADR,CADD,CATH,CADF;AAiBD,CAjCD;;AAmCA,eAAed,UAAf","sourcesContent":["import { useState } from 'react';\r\nimport { Select, Spin } from 'antd';\r\nimport debounce from 'lodash/debounce';\r\n\r\nimport { getApiData } from '../server/utils.js';\r\n\r\nconst SearchUser = () => {\r\n  const [search, setSearch] = useState(false);\r\n  const [items, setItems] = useState([]);\r\n\r\n  const searchUser = debounce(async (value: string) => {\r\n    setSearch(true);\r\n    setItems([]);\r\n    const data = value\r\n      ? await getApiData(null, `/search/users?q=${value}`)\r\n      : {};\r\n    const items = data.items || [];\r\n    console.log(items);\r\n    setSearch(false);\r\n    setItems(items);\r\n  }, 3000);\r\n\r\n  return (\r\n    <Select\r\n      showSearch={true}\r\n      notFoundContent={search ? <Spin size=\"small\" /> : <span>no data</span>}\r\n      filterOption={false}\r\n      placeholder=\"搜索用户\"\r\n      allowClear={true}\r\n      onSearch={searchUser}\r\n      style={{ width: 150, marginBottom: 20 }}\r\n    >\r\n      {items.map((item: any) => (\r\n        <Select.Option value={item.value} key={item.value}>\r\n          {item.login}\r\n        </Select.Option>\r\n      ))}\r\n    </Select>\r\n  );\r\n};\r\n\r\nexport default SearchUser;\r\n"]},"metadata":{},"sourceType":"module"}