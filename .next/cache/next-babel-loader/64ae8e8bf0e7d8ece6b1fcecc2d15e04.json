{"ast":null,"code":"import axios from 'axios';\nexport default (options => {\n  return new Promise((resolve, reject) => {\n    axios({\n      url: options.url,\n      method: 'post',\n      data: options.data\n    }).then(res => {\n      console.log(res);\n\n      if (res.status === 200 && res.data.code === 0) {\n        // 后台数据\n        resolve(res.data.data);\n      } else if (res.status === 200 && !res.data.code) {\n        // api 数据\n        resolve(res.data);\n      } else {\n        reject('error');\n      }\n    }).catch(err => {\n      resolve(err);\n    });\n  });\n});","map":{"version":3,"sources":["D:/360Downloads/Vscode/program/Next-Github-App/axios/index.tsx"],"names":["axios","options","Promise","resolve","reject","url","method","data","then","res","console","log","status","code","catch","err"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAiBA,gBAAgBC,OAAD,IAAgB;AAC7B,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACtCJ,IAAAA,KAAK,CAAC;AACJK,MAAAA,GAAG,EAAEJ,OAAO,CAACI,GADT;AAEJC,MAAAA,MAAM,EAAE,MAFJ;AAGJC,MAAAA,IAAI,EAAEN,OAAO,CAACM;AAHV,KAAD,CAAL,CAKGC,IALH,CAKSC,GAAD,IAAY;AAChBC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,UAAIA,GAAG,CAACG,MAAJ,KAAe,GAAf,IAAsBH,GAAG,CAACF,IAAJ,CAASM,IAAT,KAAkB,CAA5C,EAA+C;AAC7C;AACAV,QAAAA,OAAO,CAACM,GAAG,CAACF,IAAJ,CAASA,IAAV,CAAP;AACD,OAHD,MAGO,IAAIE,GAAG,CAACG,MAAJ,KAAe,GAAf,IAAsB,CAACH,GAAG,CAACF,IAAJ,CAASM,IAApC,EAA0C;AAC/C;AACAV,QAAAA,OAAO,CAACM,GAAG,CAACF,IAAL,CAAP;AACD,OAHM,MAGA;AACLH,QAAAA,MAAM,CAAC,OAAD,CAAN;AACD;AACF,KAhBH,EAiBGU,KAjBH,CAiBUC,GAAD,IAAS;AACdZ,MAAAA,OAAO,CAACY,GAAD,CAAP;AACD,KAnBH;AAoBD,GArBM,CAAP;AAsBD,CAvBD","sourcesContent":["import axios from 'axios';\r\n\r\ninterface O {\r\n  url: string;\r\n  data?: {};\r\n}\r\n\r\ninterface R {\r\n  status: number;\r\n  data: {\r\n    code: number;\r\n    msg?: string;\r\n    // 接口返回的 json 数据\r\n    data: any;\r\n  };\r\n}\r\n\r\nexport default (options: O) => {\r\n  return new Promise((resolve, reject) => {\r\n    axios({\r\n      url: options.url,\r\n      method: 'post',\r\n      data: options.data,\r\n    })\r\n      .then((res: R) => {\r\n        console.log(res);\r\n        if (res.status === 200 && res.data.code === 0) {\r\n          // 后台数据\r\n          resolve(res.data.data);\r\n        } else if (res.status === 200 && !res.data.code) {\r\n          // api 数据\r\n          resolve(res.data);\r\n        } else {\r\n          reject('error');\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        resolve(err);\r\n      });\r\n  });\r\n};\r\n"]},"metadata":{},"sourceType":"module"}