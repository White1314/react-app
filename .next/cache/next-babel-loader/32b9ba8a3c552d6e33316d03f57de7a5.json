{"ast":null,"code":"import _Tabs from \"antd/lib/tabs\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useSelector } from 'react-redux';\nimport MarkdowIt from 'markdown-it';\nimport 'github-markdown-css';\nimport { getApiData } from '../server/utils.js';\nimport * as actions from '../actions';\nimport { baseToUtf } from '../utils';\nconst md = new MarkdowIt();\n\nconst Detail = ({}) => {\n  const userRepo = useSelector(state => state.detail.user_repo);\n  const repoReadme = useSelector(state => state.detail.repo_readme);\n  let html = '';\n\n  if (repoReadme.content) {\n    const content = baseToUtf(repoReadme.content);\n    html = md.render(content);\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"jsx-3607230243\" + \" \" + \"root\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3607230243\" + \" \" + \"head\"\n  }, __jsx(\"img\", {\n    src: userRepo.owner.avatar_url,\n    alt: \"\",\n    className: \"jsx-3607230243\" + \" \" + \"head-img\"\n  }), __jsx(\"span\", {\n    className: \"jsx-3607230243\" + \" \" + \"head-login\"\n  }, userRepo.owner.login), __jsx(\"a\", {\n    className: \"jsx-3607230243\" + \" \" + \"head-name\"\n  }, `${userRepo.name} / ${userRepo.owner.login}`)), __jsx(_Tabs, {\n    defaultActiveKey: \"0\",\n    animated: false\n  }, __jsx(_Tabs.TabPane, {\n    tab: \"\\u6587\\u6863\",\n    key: \"0\"\n  }, __jsx(\"div\", {\n    dangerouslySetInnerHTML: {\n      __html: html\n    },\n    className: \"jsx-3607230243\"\n  })), __jsx(_Tabs.TabPane, {\n    tab: \"\\u8BA8\\u8BBA\",\n    key: \"1\"\n  }))), __jsx(_JSXStyle, {\n    id: \"3607230243\"\n  }, \".root.jsx-3607230243{height:100%;overflow-y:auto;}.head.jsx-3607230243{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;}.head-img.jsx-3607230243{width:30px;height:30px;}.head-login.jsx-3607230243{color:#666;margin:0 10px;}.head-name.jsx-3607230243{font-weight:500;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFwzNjBEb3dubG9hZHNcXFZzY29kZVxccHJvZ3JhbVxcTmV4dC1HaXRodWItQXBwXFxwYWdlc1xcZGV0YWlsLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnRGtCLEFBR3VCLEFBSUMsQUFLRixBQUlBLEFBSUssV0FQSixBQUlFLENBYkUsSUFpQmxCLE9BUEEsRUFJQSxHQWJBLDhDQUdxQiw2RkFDSixlQUNqQiIsImZpbGUiOiJEOlxcMzYwRG93bmxvYWRzXFxWc2NvZGVcXHByb2dyYW1cXE5leHQtR2l0aHViLUFwcFxccGFnZXNcXGRldGFpbC50c3giLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUYWJzIH0gZnJvbSAnYW50ZCc7XHJcbmltcG9ydCB7IHVzZVNlbGVjdG9yIH0gZnJvbSAncmVhY3QtcmVkdXgnO1xyXG5pbXBvcnQgTWFya2Rvd0l0IGZyb20gJ21hcmtkb3duLWl0JztcclxuaW1wb3J0ICdnaXRodWItbWFya2Rvd24tY3NzJztcclxuXHJcbmltcG9ydCB7IGdldEFwaURhdGEgfSBmcm9tICcuLi9zZXJ2ZXIvdXRpbHMuanMnO1xyXG5pbXBvcnQgKiBhcyBhY3Rpb25zIGZyb20gJy4uL2FjdGlvbnMnO1xyXG5pbXBvcnQgeyBiYXNlVG9VdGYgfSBmcm9tICcuLi91dGlscyc7XHJcblxyXG5jb25zdCBtZCA9IG5ldyBNYXJrZG93SXQoKTtcclxuXHJcbmludGVyZmFjZSBTIHtcclxuICBkZXRhaWw6IHtcclxuICAgIHVzZXJfcmVwbz86IHtcclxuICAgICAgbmFtZTogc3RyaW5nO1xyXG4gICAgICBvd25lcjogYW55O1xyXG4gICAgfTtcclxuICAgIHJlcG9fcmVhZG1lPzoge1xyXG4gICAgICBjb250ZW50OiBhbnk7XHJcbiAgICB9O1xyXG4gIH07XHJcbn1cclxuXHJcbmNvbnN0IERldGFpbCA9ICh7fSkgPT4ge1xyXG4gIGNvbnN0IHVzZXJSZXBvID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBTKSA9PiBzdGF0ZS5kZXRhaWwudXNlcl9yZXBvKTtcclxuICBjb25zdCByZXBvUmVhZG1lID0gdXNlU2VsZWN0b3IoKHN0YXRlOiBTKSA9PiBzdGF0ZS5kZXRhaWwucmVwb19yZWFkbWUpO1xyXG5cclxuICBsZXQgaHRtbCA9ICcnO1xyXG4gIGlmIChyZXBvUmVhZG1lLmNvbnRlbnQpIHtcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBiYXNlVG9VdGYocmVwb1JlYWRtZS5jb250ZW50KTtcclxuICAgIGh0bWwgPSBtZC5yZW5kZXIoY29udGVudCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb290XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJoZWFkXCI+XHJcbiAgICAgICAgICA8aW1nIHNyYz17dXNlclJlcG8ub3duZXIuYXZhdGFyX3VybH0gYWx0PVwiXCIgY2xhc3NOYW1lPVwiaGVhZC1pbWdcIiAvPlxyXG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiaGVhZC1sb2dpblwiPnt1c2VyUmVwby5vd25lci5sb2dpbn08L3NwYW4+XHJcbiAgICAgICAgICA8YSBjbGFzc05hbWU9XCJoZWFkLW5hbWVcIj57YCR7dXNlclJlcG8ubmFtZX0gLyAke3VzZXJSZXBvLm93bmVyLmxvZ2lufWB9PC9hPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxUYWJzIGRlZmF1bHRBY3RpdmVLZXk9XCIwXCIgYW5pbWF0ZWQ9e2ZhbHNlfT5cclxuICAgICAgICAgIDxUYWJzLlRhYlBhbmUgdGFiPVwi5paH5qGjXCIga2V5PVwiMFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGRhbmdlcm91c2x5U2V0SW5uZXJIVE1MPXt7IF9faHRtbDogaHRtbCB9fT48L2Rpdj5cclxuICAgICAgICAgIDwvVGFicy5UYWJQYW5lPlxyXG4gICAgICAgICAgPFRhYnMuVGFiUGFuZSB0YWI9XCLorqjorrpcIiBrZXk9XCIxXCI+PC9UYWJzLlRhYlBhbmU+XHJcbiAgICAgICAgPC9UYWJzPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgIC5yb290IHtcclxuICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5oZWFkIHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICAgIH1cclxuICAgICAgICAuaGVhZC1pbWcge1xyXG4gICAgICAgICAgd2lkdGg6IDMwcHg7XHJcbiAgICAgICAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5oZWFkLWxvZ2luIHtcclxuICAgICAgICAgIGNvbG9yOiAjNjY2O1xyXG4gICAgICAgICAgbWFyZ2luOiAwIDEwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5oZWFkLW5hbWUge1xyXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgICB9XHJcbiAgICAgIGB9PC9zdHlsZT5cclxuICAgIDwvPlxyXG4gICk7XHJcbn07XHJcblxyXG5EZXRhaWwuZ2V0SW5pdGlhbFByb3BzID0gYXN5bmMgKHsgY3R4IH0pID0+IHtcclxuICBjb25zdCB7IHN0b3JlIH0gPSBjdHg7XHJcblxyXG4gIGNvbnN0IGRldGFpbFVzZXJSZXBvRGF0YSA9IGF3YWl0IGdldEFwaURhdGEoY3R4LCAnL2FwaS9kZXRhaWwvdXNlcicpO1xyXG4gIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMuZ2V0RGV0YWlsUmVwb3MoZGV0YWlsVXNlclJlcG9EYXRhKSk7XHJcblxyXG4gIGNvbnN0IGRldGFpbFJlcG9zUmVhZG1lID0gYXdhaXQgZ2V0QXBpRGF0YShjdHgsICcvYXBpL2RldGFpbC9yZWFkbWUnKTtcclxuICBzdG9yZS5kaXNwYXRjaChhY3Rpb25zLmdldFJlcG9SZWFkbWUoZGV0YWlsUmVwb3NSZWFkbWUpKTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IERldGFpbDtcclxuIl19 */\\n/*@ sourceURL=D:\\\\\\\\360Downloads\\\\\\\\Vscode\\\\\\\\program\\\\\\\\Next-Github-App\\\\\\\\pages\\\\\\\\detail.tsx */\"));\n};\n\nDetail.getInitialProps = async ({\n  ctx\n}) => {\n  const {\n    store\n  } = ctx;\n  const detailUserRepoData = await getApiData(ctx, '/api/detail/user');\n  store.dispatch(actions.getDetailRepos(detailUserRepoData));\n  const detailReposReadme = await getApiData(ctx, '/api/detail/readme');\n  store.dispatch(actions.getRepoReadme(detailReposReadme));\n};\n\nexport default Detail;","map":{"version":3,"sources":["D:/360Downloads/Vscode/program/Next-Github-App/pages/detail.tsx"],"names":["useSelector","MarkdowIt","getApiData","actions","baseToUtf","md","Detail","userRepo","state","detail","user_repo","repoReadme","repo_readme","html","content","render","owner","avatar_url","login","name","__html","getInitialProps","ctx","store","detailUserRepoData","dispatch","getDetailRepos","detailReposReadme","getRepoReadme"],"mappings":";;;;AACA,SAASA,WAAT,QAA4B,aAA5B;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAO,qBAAP;AAEA,SAASC,UAAT,QAA2B,oBAA3B;AACA,OAAO,KAAKC,OAAZ,MAAyB,YAAzB;AACA,SAASC,SAAT,QAA0B,UAA1B;AAEA,MAAMC,EAAE,GAAG,IAAIJ,SAAJ,EAAX;;AAcA,MAAMK,MAAM,GAAG,CAAC,EAAD,KAAQ;AACrB,QAAMC,QAAQ,GAAGP,WAAW,CAAEQ,KAAD,IAAcA,KAAK,CAACC,MAAN,CAAaC,SAA5B,CAA5B;AACA,QAAMC,UAAU,GAAGX,WAAW,CAAEQ,KAAD,IAAcA,KAAK,CAACC,MAAN,CAAaG,WAA5B,CAA9B;AAEA,MAAIC,IAAI,GAAG,EAAX;;AACA,MAAIF,UAAU,CAACG,OAAf,EAAwB;AACtB,UAAMA,OAAO,GAAGV,SAAS,CAACO,UAAU,CAACG,OAAZ,CAAzB;AACAD,IAAAA,IAAI,GAAGR,EAAE,CAACU,MAAH,CAAUD,OAAV,CAAP;AACD;;AAED,SACE,4BACE;AAAA,wCAAe;AAAf,KACE;AAAA,wCAAe;AAAf,KACE;AAAK,IAAA,GAAG,EAAEP,QAAQ,CAACS,KAAT,CAAeC,UAAzB;AAAqC,IAAA,GAAG,EAAC,EAAzC;AAAA,wCAAsD;AAAtD,IADF,EAEE;AAAA,wCAAgB;AAAhB,KAA8BV,QAAQ,CAACS,KAAT,CAAeE,KAA7C,CAFF,EAGE;AAAA,wCAAa;AAAb,KAA2B,GAAEX,QAAQ,CAACY,IAAK,MAAKZ,QAAQ,CAACS,KAAT,CAAeE,KAAM,EAArE,CAHF,CADF,EAME;AAAM,IAAA,gBAAgB,EAAC,GAAvB;AAA2B,IAAA,QAAQ,EAAE;AAArC,KACE,YAAM,OAAN;AAAc,IAAA,GAAG,EAAC,cAAlB;AAAuB,IAAA,GAAG,EAAC;AAA3B,KACE;AAAK,IAAA,uBAAuB,EAAE;AAAEE,MAAAA,MAAM,EAAEP;AAAV,KAA9B;AAAA;AAAA,IADF,CADF,EAIE,YAAM,OAAN;AAAc,IAAA,GAAG,EAAC,cAAlB;AAAuB,IAAA,GAAG,EAAC;AAA3B,IAJF,CANF,CADF;AAAA;AAAA,qqIADF;AAuCD,CAjDD;;AAmDAP,MAAM,CAACe,eAAP,GAAyB,OAAO;AAAEC,EAAAA;AAAF,CAAP,KAAmB;AAC1C,QAAM;AAAEC,IAAAA;AAAF,MAAYD,GAAlB;AAEA,QAAME,kBAAkB,GAAG,MAAMtB,UAAU,CAACoB,GAAD,EAAM,kBAAN,CAA3C;AACAC,EAAAA,KAAK,CAACE,QAAN,CAAetB,OAAO,CAACuB,cAAR,CAAuBF,kBAAvB,CAAf;AAEA,QAAMG,iBAAiB,GAAG,MAAMzB,UAAU,CAACoB,GAAD,EAAM,oBAAN,CAA1C;AACAC,EAAAA,KAAK,CAACE,QAAN,CAAetB,OAAO,CAACyB,aAAR,CAAsBD,iBAAtB,CAAf;AACD,CARD;;AAUA,eAAerB,MAAf","sourcesContent":["import { Tabs } from 'antd';\r\nimport { useSelector } from 'react-redux';\r\nimport MarkdowIt from 'markdown-it';\r\nimport 'github-markdown-css';\r\n\r\nimport { getApiData } from '../server/utils.js';\r\nimport * as actions from '../actions';\r\nimport { baseToUtf } from '../utils';\r\n\r\nconst md = new MarkdowIt();\r\n\r\ninterface S {\r\n  detail: {\r\n    user_repo?: {\r\n      name: string;\r\n      owner: any;\r\n    };\r\n    repo_readme?: {\r\n      content: any;\r\n    };\r\n  };\r\n}\r\n\r\nconst Detail = ({}) => {\r\n  const userRepo = useSelector((state: S) => state.detail.user_repo);\r\n  const repoReadme = useSelector((state: S) => state.detail.repo_readme);\r\n\r\n  let html = '';\r\n  if (repoReadme.content) {\r\n    const content = baseToUtf(repoReadme.content);\r\n    html = md.render(content);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"root\">\r\n        <div className=\"head\">\r\n          <img src={userRepo.owner.avatar_url} alt=\"\" className=\"head-img\" />\r\n          <span className=\"head-login\">{userRepo.owner.login}</span>\r\n          <a className=\"head-name\">{`${userRepo.name} / ${userRepo.owner.login}`}</a>\r\n        </div>\r\n        <Tabs defaultActiveKey=\"0\" animated={false}>\r\n          <Tabs.TabPane tab=\"文档\" key=\"0\">\r\n            <div dangerouslySetInnerHTML={{ __html: html }}></div>\r\n          </Tabs.TabPane>\r\n          <Tabs.TabPane tab=\"讨论\" key=\"1\"></Tabs.TabPane>\r\n        </Tabs>\r\n      </div>\r\n      <style jsx>{`\r\n        .root {\r\n          height: 100%;\r\n          overflow-y: auto;\r\n        }\r\n        .head {\r\n          display: flex;\r\n          align-items: center;\r\n          font-size: 12px;\r\n        }\r\n        .head-img {\r\n          width: 30px;\r\n          height: 30px;\r\n        }\r\n        .head-login {\r\n          color: #666;\r\n          margin: 0 10px;\r\n        }\r\n        .head-name {\r\n          font-weight: 500;\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nDetail.getInitialProps = async ({ ctx }) => {\r\n  const { store } = ctx;\r\n\r\n  const detailUserRepoData = await getApiData(ctx, '/api/detail/user');\r\n  store.dispatch(actions.getDetailRepos(detailUserRepoData));\r\n\r\n  const detailReposReadme = await getApiData(ctx, '/api/detail/readme');\r\n  store.dispatch(actions.getRepoReadme(detailReposReadme));\r\n};\r\n\r\nexport default Detail;\r\n"]},"metadata":{},"sourceType":"module"}