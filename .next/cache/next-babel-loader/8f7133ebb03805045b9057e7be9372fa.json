{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport \"antd/lib/row/style/css\";\nimport _Row from \"antd/lib/row\";\nimport \"antd/lib/col/style/css\";\nimport _Col from \"antd/lib/col\";\nimport \"antd/lib/list/style/css\";\nimport _List from \"antd/lib/list\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useCallback } from 'react';\nimport { withRouter } from 'next/router';\nimport Router from 'next/router';\nvar LANGUAGES = ['JavaScript', 'HTML', 'CSS', 'TypeScript', 'Java', 'Rust'];\nvar SORT_TYPES = [{\n  name: 'Best Match'\n}, {\n  name: 'Most Stars',\n  value: 'stars',\n  order: 'dsc'\n}, {\n  name: 'Fewest Stars',\n  value: 'stars',\n  order: 'asc'\n}, {\n  name: 'Most Forks',\n  value: 'forks',\n  order: 'dsc'\n}, {\n  name: 'Fewest Forks',\n  value: 'forks',\n  order: 'asc'\n}];\n\nvar Search = function Search(_ref) {\n  var router = _ref.router;\n  console.log(router);\n  var _router$query = router.query,\n      q = _router$query.q,\n      lang = _router$query.lang,\n      sort = _router$query.sort,\n      order = _router$query.order;\n  var handleLanguageClick = useCallback(function (item) {\n    Router.push({\n      pathname: '/search',\n      query: {\n        q: q,\n        lang: item,\n        sort: sort,\n        order: order\n      }\n    });\n  }, []);\n  var handleSortTypesClick = useCallback(function (item) {\n    Router.push({\n      pathname: '/search',\n      query: {\n        q: name,\n        lang: lang,\n        sort: item.value,\n        order: item.order\n      }\n    });\n  }, []);\n  return __jsx(\"div\", {\n    className: \"jsx-3164429104\" + \" \" + \"root\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3164429104\" + \" \" + \"menu\"\n  }, __jsx(_Row, {\n    gutter: 20\n  }, __jsx(_Col, {\n    span: 6\n  }, __jsx(_List, {\n    bordered: true,\n    header: __jsx(\"span\", {\n      className: \"jsx-3164429104\" + \" \" + \"list-header\"\n    }, \"\\u8BED\\u8A00\"),\n    style: {\n      marginBottom: 20\n    },\n    dataSource: LANGUAGES,\n    renderItem: function renderItem(item) {\n      return __jsx(_List.Item, null, __jsx(\"a\", {\n        onClick: function onClick() {\n          return handleLanguageClick(item);\n        },\n        className: \"jsx-3164429104\"\n      }, item));\n    }\n  }))), __jsx(_Row, {\n    gutter: 20\n  }, __jsx(_Col, {\n    span: 6\n  }, __jsx(_List, {\n    bordered: true,\n    header: __jsx(\"span\", {\n      className: \"jsx-3164429104\" + \" \" + \"list-header\"\n    }, \"\\u6392\\u5E8F\"),\n    dataSource: SORT_TYPES,\n    renderItem: function renderItem(item) {\n      return __jsx(_List.Item, null, __jsx(\"a\", {\n        onClick: function onClick() {\n          return handleSortTypesClick(item);\n        },\n        className: \"jsx-3164429104\"\n      }, item.name));\n    }\n  })))), __jsx(_JSXStyle, {\n    id: \"3164429104\"\n  }, \".root.jsx-3164429104{height:100%;}.menu.jsx-3164429104{height:100%;overflow-x:hidden;overflow-y:auto;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFwzNjBEb3dubG9hZHNcXFZzY29kZVxccHJvZ3JhbVxcTmV4dC1HaXRodWItQXBwXFxwYWdlc1xcc2VhcmNoLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFpRmtCLEFBR3VCLEFBR0EsWUFGZCxBQUdvQixrQkFDRixnQkFDbEIiLCJmaWxlIjoiRDpcXDM2MERvd25sb2Fkc1xcVnNjb2RlXFxwcm9ncmFtXFxOZXh0LUdpdGh1Yi1BcHBcXHBhZ2VzXFxzZWFyY2gudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHdpdGhSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XHJcbmltcG9ydCBSb3V0ZXIgZnJvbSAnbmV4dC9yb3V0ZXInO1xyXG5pbXBvcnQgeyBSb3csIENvbCwgTGlzdCB9IGZyb20gJ2FudGQnO1xyXG5cclxuY29uc3QgTEFOR1VBR0VTID0gWydKYXZhU2NyaXB0JywgJ0hUTUwnLCAnQ1NTJywgJ1R5cGVTY3JpcHQnLCAnSmF2YScsICdSdXN0J107XHJcbmNvbnN0IFNPUlRfVFlQRVMgPSBbXHJcbiAgeyBuYW1lOiAnQmVzdCBNYXRjaCcgfSxcclxuICB7IG5hbWU6ICdNb3N0IFN0YXJzJywgdmFsdWU6ICdzdGFycycsIG9yZGVyOiAnZHNjJyB9LFxyXG4gIHsgbmFtZTogJ0Zld2VzdCBTdGFycycsIHZhbHVlOiAnc3RhcnMnLCBvcmRlcjogJ2FzYycgfSxcclxuICB7IG5hbWU6ICdNb3N0IEZvcmtzJywgdmFsdWU6ICdmb3JrcycsIG9yZGVyOiAnZHNjJyB9LFxyXG4gIHsgbmFtZTogJ0Zld2VzdCBGb3JrcycsIHZhbHVlOiAnZm9ya3MnLCBvcmRlcjogJ2FzYycgfSxcclxuXTtcclxuXHJcbmludGVyZmFjZSBJdGVtIHtcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgdmFsdWU6IHN0cmluZztcclxuICBvcmRlcjogc3RyaW5nO1xyXG59XHJcblxyXG5jb25zdCBTZWFyY2ggPSAoeyByb3V0ZXIgfSkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKHJvdXRlcik7XHJcbiAgY29uc3QgeyBxLCBsYW5nLCBzb3J0LCBvcmRlciB9ID0gcm91dGVyLnF1ZXJ5O1xyXG5cclxuICBjb25zdCBoYW5kbGVMYW5ndWFnZUNsaWNrID0gdXNlQ2FsbGJhY2soKGl0ZW06IHN0cmluZykgPT4ge1xyXG4gICAgUm91dGVyLnB1c2goe1xyXG4gICAgICBwYXRobmFtZTogJy9zZWFyY2gnLFxyXG4gICAgICBxdWVyeToge1xyXG4gICAgICAgIHEsXHJcbiAgICAgICAgbGFuZzogaXRlbSxcclxuICAgICAgICBzb3J0LFxyXG4gICAgICAgIG9yZGVyLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICBjb25zdCBoYW5kbGVTb3J0VHlwZXNDbGljayA9IHVzZUNhbGxiYWNrKChpdGVtOiBJdGVtKSA9PiB7XHJcbiAgICBSb3V0ZXIucHVzaCh7XHJcbiAgICAgIHBhdGhuYW1lOiAnL3NlYXJjaCcsXHJcbiAgICAgIHF1ZXJ5OiB7XHJcbiAgICAgICAgcTogbmFtZSxcclxuICAgICAgICBsYW5nLFxyXG4gICAgICAgIHNvcnQ6IGl0ZW0udmFsdWUsXHJcbiAgICAgICAgb3JkZXI6IGl0ZW0ub3JkZXIsXHJcbiAgICAgIH0sXHJcbiAgICB9KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8ZGl2IGNsYXNzTmFtZT1cInJvb3RcIj5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtZW51XCI+XHJcbiAgICAgICAgPFJvdyBndXR0ZXI9ezIwfT5cclxuICAgICAgICAgIDxDb2wgc3Bhbj17Nn0+XHJcbiAgICAgICAgICAgIDxMaXN0XHJcbiAgICAgICAgICAgICAgYm9yZGVyZWRcclxuICAgICAgICAgICAgICBoZWFkZXI9ezxzcGFuIGNsYXNzTmFtZT1cImxpc3QtaGVhZGVyXCI+6K+t6KiAPC9zcGFuPn1cclxuICAgICAgICAgICAgICBzdHlsZT17eyBtYXJnaW5Cb3R0b206IDIwIH19XHJcbiAgICAgICAgICAgICAgZGF0YVNvdXJjZT17TEFOR1VBR0VTfVxyXG4gICAgICAgICAgICAgIHJlbmRlckl0ZW09eyhpdGVtKSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8TGlzdC5JdGVtPlxyXG4gICAgICAgICAgICAgICAgICA8YSBvbkNsaWNrPXsoKSA9PiBoYW5kbGVMYW5ndWFnZUNsaWNrKGl0ZW0pfT57aXRlbX08L2E+XHJcbiAgICAgICAgICAgICAgICA8L0xpc3QuSXRlbT5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgPC9Sb3c+XHJcbiAgICAgICAgPFJvdyBndXR0ZXI9ezIwfT5cclxuICAgICAgICAgIDxDb2wgc3Bhbj17Nn0+XHJcbiAgICAgICAgICAgIDxMaXN0XHJcbiAgICAgICAgICAgICAgYm9yZGVyZWRcclxuICAgICAgICAgICAgICBoZWFkZXI9ezxzcGFuIGNsYXNzTmFtZT1cImxpc3QtaGVhZGVyXCI+5o6S5bqPPC9zcGFuPn1cclxuICAgICAgICAgICAgICBkYXRhU291cmNlPXtTT1JUX1RZUEVTfVxyXG4gICAgICAgICAgICAgIHJlbmRlckl0ZW09eyhpdGVtOiBJdGVtKSA9PiAoXHJcbiAgICAgICAgICAgICAgICA8TGlzdC5JdGVtPlxyXG4gICAgICAgICAgICAgICAgICA8YSBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTb3J0VHlwZXNDbGljayhpdGVtKX0+e2l0ZW0ubmFtZX08L2E+XHJcbiAgICAgICAgICAgICAgICA8L0xpc3QuSXRlbT5cclxuICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAvPlxyXG4gICAgICAgICAgPC9Db2w+XHJcbiAgICAgICAgPC9Sb3c+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8c3R5bGUganN4PntgXHJcbiAgICAgICAgLnJvb3Qge1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAubWVudSB7XHJcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICAgICAgICBvdmVyZmxvdy14OiBoaWRkZW47XHJcbiAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvO1xyXG4gICAgICAgIH1cclxuICAgICAgYH08L3N0eWxlPlxyXG4gICAgPC9kaXY+XHJcbiAgKTtcclxufTtcclxuXHJcblNlYXJjaC5nZXRJbml0aWFsUHJvcHMgPSBhc3luYyAoeyBjdHggfSkgPT4ge1xyXG4gIGNvbnN0IHsgbmFtZSwgc29ydCwgbGFuZywgb3JkZXIsIHBhZ2UgfSA9IGN0eC5xdWVyeTtcclxuICAvLyBgaHR0cHM6Ly9hcGkuZ2l0aHViLmNvbS9zZWFyY2gvcmVwb3NpdG9yaWVzP3E9JHtuYW1lfWBcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IHdpdGhSb3V0ZXIoU2VhcmNoKTtcclxuIl19 */\\n/*@ sourceURL=D:\\\\\\\\360Downloads\\\\\\\\Vscode\\\\\\\\program\\\\\\\\Next-Github-App\\\\\\\\pages\\\\\\\\search.tsx */\"));\n};\n\nSearch.getInitialProps = function _callee(_ref2) {\n  var ctx, _ctx$query, name, sort, lang, order, page;\n\n  return _regeneratorRuntime.async(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          ctx = _ref2.ctx;\n          _ctx$query = ctx.query, name = _ctx$query.name, sort = _ctx$query.sort, lang = _ctx$query.lang, order = _ctx$query.order, page = _ctx$query.page; // `https://api.github.com/search/repositories?q=${name}`\n\n        case 2:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nexport default withRouter(Search);","map":{"version":3,"sources":["D:/360Downloads/Vscode/program/Next-Github-App/pages/search.tsx"],"names":["useCallback","withRouter","Router","LANGUAGES","SORT_TYPES","name","value","order","Search","router","console","log","query","q","lang","sort","handleLanguageClick","item","push","pathname","handleSortTypesClick","marginBottom","getInitialProps","ctx","page"],"mappings":"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","sourcesContent":["import { useCallback } from 'react';\r\nimport { withRouter } from 'next/router';\r\nimport Router from 'next/router';\r\nimport { Row, Col, List } from 'antd';\r\n\r\nconst LANGUAGES = ['JavaScript', 'HTML', 'CSS', 'TypeScript', 'Java', 'Rust'];\r\nconst SORT_TYPES = [\r\n  { name: 'Best Match' },\r\n  { name: 'Most Stars', value: 'stars', order: 'dsc' },\r\n  { name: 'Fewest Stars', value: 'stars', order: 'asc' },\r\n  { name: 'Most Forks', value: 'forks', order: 'dsc' },\r\n  { name: 'Fewest Forks', value: 'forks', order: 'asc' },\r\n];\r\n\r\ninterface Item {\r\n  name: string;\r\n  value: string;\r\n  order: string;\r\n}\r\n\r\nconst Search = ({ router }) => {\r\n  console.log(router);\r\n  const { q, lang, sort, order } = router.query;\r\n\r\n  const handleLanguageClick = useCallback((item: string) => {\r\n    Router.push({\r\n      pathname: '/search',\r\n      query: {\r\n        q,\r\n        lang: item,\r\n        sort,\r\n        order,\r\n      },\r\n    });\r\n  }, []);\r\n\r\n  const handleSortTypesClick = useCallback((item: Item) => {\r\n    Router.push({\r\n      pathname: '/search',\r\n      query: {\r\n        q: name,\r\n        lang,\r\n        sort: item.value,\r\n        order: item.order,\r\n      },\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"root\">\r\n      <div className=\"menu\">\r\n        <Row gutter={20}>\r\n          <Col span={6}>\r\n            <List\r\n              bordered\r\n              header={<span className=\"list-header\">语言</span>}\r\n              style={{ marginBottom: 20 }}\r\n              dataSource={LANGUAGES}\r\n              renderItem={(item) => (\r\n                <List.Item>\r\n                  <a onClick={() => handleLanguageClick(item)}>{item}</a>\r\n                </List.Item>\r\n              )}\r\n            />\r\n          </Col>\r\n        </Row>\r\n        <Row gutter={20}>\r\n          <Col span={6}>\r\n            <List\r\n              bordered\r\n              header={<span className=\"list-header\">排序</span>}\r\n              dataSource={SORT_TYPES}\r\n              renderItem={(item: Item) => (\r\n                <List.Item>\r\n                  <a onClick={() => handleSortTypesClick(item)}>{item.name}</a>\r\n                </List.Item>\r\n              )}\r\n            />\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n      <style jsx>{`\r\n        .root {\r\n          height: 100%;\r\n        }\r\n        .menu {\r\n          height: 100%;\r\n          overflow-x: hidden;\r\n          overflow-y: auto;\r\n        }\r\n      `}</style>\r\n    </div>\r\n  );\r\n};\r\n\r\nSearch.getInitialProps = async ({ ctx }) => {\r\n  const { name, sort, lang, order, page } = ctx.query;\r\n  // `https://api.github.com/search/repositories?q=${name}`\r\n};\r\n\r\nexport default withRouter(Search);\r\n"]},"metadata":{},"sourceType":"module"}