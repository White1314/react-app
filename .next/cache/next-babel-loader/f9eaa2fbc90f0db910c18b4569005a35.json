{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport * as constants from '../constants';\nimport post from '../axios';\nimport { OAUTH_URL } from '../config';\n\nvar setUserInfo = function setUserInfo(payload) {\n  return {\n    type: constants.GET_USER_INFO,\n    payload: payload\n  };\n};\n\nexport var getUserInfo = function getUserInfo(payload) {\n  return function (dispatch) {\n    dispatch(setUserInfo(payload));\n  };\n};\n\nvar setLoginOut = function setLoginOut() {\n  return {\n    type: constants.USER_LOGIN_OUT\n  };\n};\n\nexport var userLoginOut = function userLoginOut() {\n  return function _callee(dispatch) {\n    var data;\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return _regeneratorRuntime.awrap(post({\n              url: '/userout'\n            }));\n\n          case 2:\n            data = _context.sent;\n            data ? dispatch(setLoginOut()) : '';\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\nexport var userPrepareOauth = function userPrepareOauth(path) {\n  var data;\n  return _regeneratorRuntime.async(function userPrepareOauth$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          _context2.next = 2;\n          return _regeneratorRuntime.awrap(post({\n            url: \"/prepareOauth?url=\".concat(path)\n          }));\n\n        case 2:\n          data = _context2.sent;\n          data ? location.href = OAUTH_URL : null;\n\n        case 4:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n};\n\nvar setUserRepos = function setUserRepos(payload) {\n  return {\n    type: constants.GET_USER_REPOS,\n    payload: payload\n  };\n};\n\nexport var getUserRepos = function getUserRepos(payload) {\n  return function _callee2(dispatch) {\n    return _regeneratorRuntime.async(function _callee2$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            dispatch(setUserRepos(payload));\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar setUserStarredRepos = function setUserStarredRepos(payload) {\n  return {\n    type: constants.GET_USER_STARRED_REPOS,\n    payload: payload\n  };\n};\n\nexport var getUserStarredRepos = function getUserStarredRepos(payload) {\n  return function _callee3(dispatch) {\n    return _regeneratorRuntime.async(function _callee3$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            dispatch(setUserStarredRepos(payload));\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar setSearchRepos = function setSearchRepos(payload) {\n  return {\n    type: constants.GET_SEARCH_REPOS,\n    payload: payload\n  };\n};\n\nexport var getSearchRepos = function getSearchRepos(payload) {\n  return function _callee4(dispatch) {\n    return _regeneratorRuntime.async(function _callee4$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            dispatch(setSearchRepos(payload));\n\n          case 1:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar setDetailRepos = function setDetailRepos(payload) {\n  return {\n    type: constants.GET_DETAIL_USER_REPOS,\n    payload: payload\n  };\n};\n\nexport var getDetailRepos = function getDetailRepos(payload) {\n  return function _callee5(dispatch) {\n    return _regeneratorRuntime.async(function _callee5$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            dispatch(setDetailRepos(payload));\n\n          case 1:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar setRepoReadme = function setRepoReadme(payload) {\n  return {\n    type: constants.GET_REPO_README,\n    payload: payload\n  };\n};\n\nexport var getRepoReadme = function getRepoReadme(payload) {\n  return function _callee6(dispatch) {\n    return _regeneratorRuntime.async(function _callee6$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            dispatch(setRepoReadme(payload));\n\n          case 1:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};\n\nvar setRepoIssues = function setRepoIssues(payload) {\n  return {\n    type: constants.GET_REPO_README,\n    payload: payload\n  };\n};\n\nexport var getRepoIssues = function getRepoIssues(payload) {\n  return function _callee7(dispatch) {\n    return _regeneratorRuntime.async(function _callee7$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            dispatch(setRepoIssues(payload));\n\n          case 1:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  };\n};","map":{"version":3,"sources":["D:/360Downloads/Vscode/program/Next-Github-App/actions/index.tsx"],"names":["constants","post","OAUTH_URL","setUserInfo","payload","type","GET_USER_INFO","getUserInfo","dispatch","setLoginOut","USER_LOGIN_OUT","userLoginOut","url","data","userPrepareOauth","path","location","href","setUserRepos","GET_USER_REPOS","getUserRepos","setUserStarredRepos","GET_USER_STARRED_REPOS","getUserStarredRepos","setSearchRepos","GET_SEARCH_REPOS","getSearchRepos","setDetailRepos","GET_DETAIL_USER_REPOS","getDetailRepos","setRepoReadme","GET_REPO_README","getRepoReadme","setRepoIssues","getRepoIssues"],"mappings":"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","sourcesContent":["import { Dispatch } from 'redux';\r\nimport * as constants from '../constants';\r\nimport post from '../axios';\r\nimport { OAUTH_URL } from '../config';\r\n\r\ninterface R {\r\n  code: number;\r\n}\r\n\r\ntype P = any;\r\n\r\nconst setUserInfo = (payload: P) => ({\r\n  type: constants.GET_USER_INFO,\r\n  payload,\r\n});\r\n\r\nexport const getUserInfo = (payload: P) => {\r\n  return (dispatch: Dispatch) => {\r\n    dispatch(setUserInfo(payload));\r\n  };\r\n};\r\n\r\nconst setLoginOut = () => ({\r\n  type: constants.USER_LOGIN_OUT,\r\n});\r\n\r\nexport const userLoginOut = () => {\r\n  return async (dispatch: Dispatch) => {\r\n    const data = await post({ url: '/userout' });\r\n    data ? dispatch(setLoginOut()) : '';\r\n  };\r\n};\r\n\r\nexport const userPrepareOauth = async (path: string) => {\r\n  const data = await post({ url: `/prepareOauth?url=${path}` });\r\n  data ? (location.href = OAUTH_URL) : null;\r\n};\r\n\r\nconst setUserRepos = (payload: P) => ({\r\n  type: constants.GET_USER_REPOS,\r\n  payload,\r\n});\r\n\r\nexport const getUserRepos = (payload: P) => {\r\n  return async (dispatch: Dispatch) => {\r\n    dispatch(setUserRepos(payload));\r\n  };\r\n};\r\n\r\nconst setUserStarredRepos = (payload: P) => ({\r\n  type: constants.GET_USER_STARRED_REPOS,\r\n  payload,\r\n});\r\n\r\nexport const getUserStarredRepos = (payload: P) => {\r\n  return async (dispatch: Dispatch) => {\r\n    dispatch(setUserStarredRepos(payload));\r\n  };\r\n};\r\n\r\nconst setSearchRepos = (payload: P) => ({\r\n  type: constants.GET_SEARCH_REPOS,\r\n  payload,\r\n});\r\n\r\nexport const getSearchRepos = (payload: P) => {\r\n  return async (dispatch: Dispatch) => {\r\n    dispatch(setSearchRepos(payload));\r\n  };\r\n};\r\n\r\nconst setDetailRepos = (payload: P) => ({\r\n  type: constants.GET_DETAIL_USER_REPOS,\r\n  payload,\r\n});\r\n\r\nexport const getDetailRepos = (payload: P) => {\r\n  return async (dispatch: Dispatch) => {\r\n    dispatch(setDetailRepos(payload));\r\n  };\r\n};\r\n\r\nconst setRepoReadme = (payload: P) => ({\r\n  type: constants.GET_REPO_README,\r\n  payload,\r\n});\r\n\r\nexport const getRepoReadme = (payload: P) => {\r\n  return async (dispatch: Dispatch) => {\r\n    dispatch(setRepoReadme(payload));\r\n  };\r\n};\r\n\r\nconst setRepoIssues = (payload: P) => ({\r\n  type: constants.GET_REPO_README,\r\n  payload,\r\n});\r\n\r\nexport const getRepoIssues = (payload: P) => {\r\n  return async (dispatch: Dispatch) => {\r\n    dispatch(setRepoIssues(payload));\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}