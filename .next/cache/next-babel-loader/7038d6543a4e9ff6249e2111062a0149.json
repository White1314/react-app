{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useSelector } from 'react-redux';\nimport { getApiData } from '../server/utils.js';\nimport * as actions from '../actions';\nimport { useState, useCallback } from 'react';\n\nconst Detail = ({\n  owner,\n  name\n}) => {\n  const userRepo = useSelector(state => state.detail.user_repo);\n  const repoReadme = useSelector(state => state.detail.repo_readme);\n  const repoIssues = useSelector(state => state.detail.repo_issues);\n  const {\n    0: issues,\n    1: setIssues\n  } = useState(repoIssues); // 父组件执行筛选用户的操作\n\n  const onChange = useCallback(async value => {\n    const data = await getApiData(null, `/repos/${owner}/${name}/issues?creator=${value}`);\n    setIssues(data);\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"jsx-1988351315\" + \" \" + \"root\"\n  }, __jsx(\"div\", {\n    className: \"jsx-1988351315\" + \" \" + \"content\"\n  })), __jsx(_JSXStyle, {\n    id: \"1988351315\"\n  }, \".root.jsx-1988351315{height:100%;overflow-y:auto;}.head.jsx-1988351315{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:12px;}.head-img.jsx-1988351315{width:30px;height:30px;}.head-login.jsx-1988351315{color:#666;margin:0 10px;}.head-name.jsx-1988351315{font-weight:500;}.content.jsx-1988351315{margin-right:20px;}.issue.jsx-1988351315:hover{border-top:1px solid #6739b6;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkQ6XFwzNjBEb3dubG9hZHNcXFZzY29kZVxccHJvZ3JhbVxcTmV4dC1HaXRodWItQXBwXFxwYWdlc1xcZGV0YWlsLnRzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFnRGtCLEFBR3VCLEFBSUMsQUFLRixBQUlBLEFBSUssQUFHRSxBQUdXLFdBYmpCLEFBSUUsQ0FiRSxJQWlCbEIsRUFHQSxLQVZBLEVBSUEsR0FiQSxDQXNCQSw2Q0FuQnFCLDZGQUNKLGVBQ2pCIiwiZmlsZSI6IkQ6XFwzNjBEb3dubG9hZHNcXFZzY29kZVxccHJvZ3JhbVxcTmV4dC1HaXRodWItQXBwXFxwYWdlc1xcZGV0YWlsLnRzeCIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFRhYnMgfSBmcm9tICdhbnRkJztcclxuaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XHJcblxyXG5pbXBvcnQgeyBnZXRBcGlEYXRhIH0gZnJvbSAnLi4vc2VydmVyL3V0aWxzLmpzJztcclxuaW1wb3J0ICogYXMgYWN0aW9ucyBmcm9tICcuLi9hY3Rpb25zJztcclxuaW1wb3J0IE1hcmtkb3duIGZyb20gJy4uL2NvbXBvbmVudHMvTWFya2Rvd24nO1xyXG5pbXBvcnQgSXNzdWVzIGZyb20gJy4uL2NvbXBvbmVudHMvSXNzdWVzJztcclxuaW1wb3J0IFNlYXJjaFVzZXIgZnJvbSAnLi4vY29tcG9uZW50cy9TZWFyY2hVc2VyJztcclxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xyXG5cclxuaW50ZXJmYWNlIFMge1xyXG4gIGRldGFpbDoge1xyXG4gICAgdXNlcl9yZXBvPzoge1xyXG4gICAgICBuYW1lOiBzdHJpbmc7XHJcbiAgICAgIG93bmVyPzoge1xyXG4gICAgICAgIGF2YXRhcl91cmw6IHN0cmluZztcclxuICAgICAgICBsb2dpbjogc3RyaW5nO1xyXG4gICAgICB9O1xyXG4gICAgfTtcclxuICAgIHJlcG9fcmVhZG1lPzoge1xyXG4gICAgICBjb250ZW50OiBhbnk7XHJcbiAgICB9O1xyXG4gICAgcmVwb19pc3N1ZXM6IGFueTtcclxuICB9O1xyXG59XHJcblxyXG5jb25zdCBEZXRhaWwgPSAoeyBvd25lciwgbmFtZSB9KSA9PiB7XHJcbiAgY29uc3QgdXNlclJlcG8gPSB1c2VTZWxlY3Rvcigoc3RhdGU6IFMpID0+IHN0YXRlLmRldGFpbC51c2VyX3JlcG8pO1xyXG4gIGNvbnN0IHJlcG9SZWFkbWUgPSB1c2VTZWxlY3Rvcigoc3RhdGU6IFMpID0+IHN0YXRlLmRldGFpbC5yZXBvX3JlYWRtZSk7XHJcbiAgY29uc3QgcmVwb0lzc3VlcyA9IHVzZVNlbGVjdG9yKChzdGF0ZTogUykgPT4gc3RhdGUuZGV0YWlsLnJlcG9faXNzdWVzKTtcclxuXHJcbiAgY29uc3QgW2lzc3Vlcywgc2V0SXNzdWVzXSA9IHVzZVN0YXRlKHJlcG9Jc3N1ZXMpO1xyXG5cclxuICAvLyDniLbnu4Tku7bmiafooYznrZvpgInnlKjmiLfnmoTmk43kvZxcclxuICBjb25zdCBvbkNoYW5nZSA9IHVzZUNhbGxiYWNrKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IGdldEFwaURhdGEoXHJcbiAgICAgIG51bGwsXHJcbiAgICAgIGAvcmVwb3MvJHtvd25lcn0vJHtuYW1lfS9pc3N1ZXM/Y3JlYXRvcj0ke3ZhbHVlfWBcclxuICAgICk7XHJcbiAgICBzZXRJc3N1ZXMoZGF0YSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPD5cclxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb290XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250ZW50XCI+PC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgIC5yb290IHtcclxuICAgICAgICAgIGhlaWdodDogMTAwJTtcclxuICAgICAgICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5oZWFkIHtcclxuICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xyXG4gICAgICAgIH1cclxuICAgICAgICAuaGVhZC1pbWcge1xyXG4gICAgICAgICAgd2lkdGg6IDMwcHg7XHJcbiAgICAgICAgICBoZWlnaHQ6IDMwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5oZWFkLWxvZ2luIHtcclxuICAgICAgICAgIGNvbG9yOiAjNjY2O1xyXG4gICAgICAgICAgbWFyZ2luOiAwIDEwcHg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC5oZWFkLW5hbWUge1xyXG4gICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgLmNvbnRlbnQge1xyXG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiAyMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgICAuaXNzdWU6aG92ZXIge1xyXG4gICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICM2NzM5YjY7XHJcbiAgICAgICAgfVxyXG4gICAgICBgfTwvc3R5bGU+XHJcbiAgICA8Lz5cclxuICApO1xyXG59O1xyXG5cclxuRGV0YWlsLmdldEluaXRpYWxQcm9wcyA9IGFzeW5jICh7IGN0eCB9KSA9PiB7XHJcbiAgY29uc3QgeyBzdG9yZSwgcXVlcnkgfSA9IGN0eDtcclxuICBjb25zdCB7IG93bmVyLCBuYW1lIH0gPSBxdWVyeTtcclxuXHJcbiAgY29uc3QgZGF0YSA9IFByb21pc2UuYWxsKFtcclxuICAgIGF3YWl0IGdldEFwaURhdGEoY3R4LCBgL3JlcG9zLyR7b3duZXJ9LyR7bmFtZX1gKSxcclxuICAgIGF3YWl0IGdldEFwaURhdGEoY3R4LCBgL3JlcG9zLyR7b3duZXJ9LyR7bmFtZX0vcmVhZG1lYCksXHJcbiAgICBhd2FpdCBnZXRBcGlEYXRhKGN0eCwgYC9yZXBvcy8ke293bmVyfS8ke25hbWV9L2lzc3Vlc2ApLFxyXG4gIF0pO1xyXG4gIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMuZ2V0RGV0YWlsUmVwb3MoZGF0YVswXSkpO1xyXG4gIHN0b3JlLmRpc3BhdGNoKGFjdGlvbnMuZ2V0UmVwb1JlYWRtZShkYXRhWzFdKSk7XHJcbiAgc3RvcmUuZGlzcGF0Y2goYWN0aW9ucy5nZXRSZXBvSXNzdWVzKGRhdGFbMl0pKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIG93bmVyLFxyXG4gICAgbmFtZSxcclxuICB9O1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgRGV0YWlsO1xyXG4iXX0= */\\n/*@ sourceURL=D:\\\\\\\\360Downloads\\\\\\\\Vscode\\\\\\\\program\\\\\\\\Next-Github-App\\\\\\\\pages\\\\\\\\detail.tsx */\"));\n};\n\nDetail.getInitialProps = async ({\n  ctx\n}) => {\n  const {\n    store,\n    query\n  } = ctx;\n  const {\n    owner,\n    name\n  } = query;\n  const data = Promise.all([await getApiData(ctx, `/repos/${owner}/${name}`), await getApiData(ctx, `/repos/${owner}/${name}/readme`), await getApiData(ctx, `/repos/${owner}/${name}/issues`)]);\n  console.log(data);\n  store.dispatch(actions.getDetailRepos(data[0]));\n  store.dispatch(actions.getRepoReadme(data[1]));\n  store.dispatch(actions.getRepoIssues(data[2]));\n  return {\n    owner,\n    name\n  };\n};\n\nexport default Detail;","map":{"version":3,"sources":["D:/360Downloads/Vscode/program/Next-Github-App/pages/detail.tsx"],"names":["useSelector","getApiData","actions","useState","useCallback","Detail","owner","name","userRepo","state","detail","user_repo","repoReadme","repo_readme","repoIssues","repo_issues","issues","setIssues","onChange","value","data","getInitialProps","ctx","store","query","Promise","all","console","log","dispatch","getDetailRepos","getRepoReadme","getRepoIssues"],"mappings":";;;AACA,SAASA,WAAT,QAA4B,aAA5B;AAEA,SAASC,UAAT,QAA2B,oBAA3B;AACA,OAAO,KAAKC,OAAZ,MAAyB,YAAzB;AAIA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,OAAtC;;AAkBA,MAAMC,MAAM,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAD,KAAqB;AAClC,QAAMC,QAAQ,GAAGR,WAAW,CAAES,KAAD,IAAcA,KAAK,CAACC,MAAN,CAAaC,SAA5B,CAA5B;AACA,QAAMC,UAAU,GAAGZ,WAAW,CAAES,KAAD,IAAcA,KAAK,CAACC,MAAN,CAAaG,WAA5B,CAA9B;AACA,QAAMC,UAAU,GAAGd,WAAW,CAAES,KAAD,IAAcA,KAAK,CAACC,MAAN,CAAaK,WAA5B,CAA9B;AAEA,QAAM;AAAA,OAACC,MAAD;AAAA,OAASC;AAAT,MAAsBd,QAAQ,CAACW,UAAD,CAApC,CALkC,CAOlC;;AACA,QAAMI,QAAQ,GAAGd,WAAW,CAAC,MAAOe,KAAP,IAAiB;AAC5C,UAAMC,IAAI,GAAG,MAAMnB,UAAU,CAC3B,IAD2B,EAE1B,UAASK,KAAM,IAAGC,IAAK,mBAAkBY,KAAM,EAFrB,CAA7B;AAIAF,IAAAA,SAAS,CAACG,IAAD,CAAT;AACD,GAN2B,EAMzB,EANyB,CAA5B;AAQA,SACE,4BACE;AAAA,wCAAe;AAAf,KACE;AAAA,wCAAe;AAAf,IADF,CADF;AAAA;AAAA,slJADF;AAoCD,CApDD;;AAsDAf,MAAM,CAACgB,eAAP,GAAyB,OAAO;AAAEC,EAAAA;AAAF,CAAP,KAAmB;AAC1C,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAmBF,GAAzB;AACA,QAAM;AAAEhB,IAAAA,KAAF;AAASC,IAAAA;AAAT,MAAkBiB,KAAxB;AAEA,QAAMJ,IAAI,GAAGK,OAAO,CAACC,GAAR,CAAY,CACvB,MAAMzB,UAAU,CAACqB,GAAD,EAAO,UAAShB,KAAM,IAAGC,IAAK,EAA9B,CADO,EAEvB,MAAMN,UAAU,CAACqB,GAAD,EAAO,UAAShB,KAAM,IAAGC,IAAK,SAA9B,CAFO,EAGvB,MAAMN,UAAU,CAACqB,GAAD,EAAO,UAAShB,KAAM,IAAGC,IAAK,SAA9B,CAHO,CAAZ,CAAb;AAKAoB,EAAAA,OAAO,CAACC,GAAR,CAAYR,IAAZ;AACAG,EAAAA,KAAK,CAACM,QAAN,CAAe3B,OAAO,CAAC4B,cAAR,CAAuBV,IAAI,CAAC,CAAD,CAA3B,CAAf;AACAG,EAAAA,KAAK,CAACM,QAAN,CAAe3B,OAAO,CAAC6B,aAAR,CAAsBX,IAAI,CAAC,CAAD,CAA1B,CAAf;AACAG,EAAAA,KAAK,CAACM,QAAN,CAAe3B,OAAO,CAAC8B,aAAR,CAAsBZ,IAAI,CAAC,CAAD,CAA1B,CAAf;AAEA,SAAO;AACLd,IAAAA,KADK;AAELC,IAAAA;AAFK,GAAP;AAID,CAlBD;;AAoBA,eAAeF,MAAf","sourcesContent":["import { Tabs } from 'antd';\r\nimport { useSelector } from 'react-redux';\r\n\r\nimport { getApiData } from '../server/utils.js';\r\nimport * as actions from '../actions';\r\nimport Markdown from '../components/Markdown';\r\nimport Issues from '../components/Issues';\r\nimport SearchUser from '../components/SearchUser';\r\nimport { useState, useCallback } from 'react';\r\n\r\ninterface S {\r\n  detail: {\r\n    user_repo?: {\r\n      name: string;\r\n      owner?: {\r\n        avatar_url: string;\r\n        login: string;\r\n      };\r\n    };\r\n    repo_readme?: {\r\n      content: any;\r\n    };\r\n    repo_issues: any;\r\n  };\r\n}\r\n\r\nconst Detail = ({ owner, name }) => {\r\n  const userRepo = useSelector((state: S) => state.detail.user_repo);\r\n  const repoReadme = useSelector((state: S) => state.detail.repo_readme);\r\n  const repoIssues = useSelector((state: S) => state.detail.repo_issues);\r\n\r\n  const [issues, setIssues] = useState(repoIssues);\r\n\r\n  // 父组件执行筛选用户的操作\r\n  const onChange = useCallback(async (value) => {\r\n    const data = await getApiData(\r\n      null,\r\n      `/repos/${owner}/${name}/issues?creator=${value}`\r\n    );\r\n    setIssues(data);\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className=\"root\">\r\n        <div className=\"content\"></div>\r\n      </div>\r\n\r\n      <style jsx>{`\r\n        .root {\r\n          height: 100%;\r\n          overflow-y: auto;\r\n        }\r\n        .head {\r\n          display: flex;\r\n          align-items: center;\r\n          font-size: 12px;\r\n        }\r\n        .head-img {\r\n          width: 30px;\r\n          height: 30px;\r\n        }\r\n        .head-login {\r\n          color: #666;\r\n          margin: 0 10px;\r\n        }\r\n        .head-name {\r\n          font-weight: 500;\r\n        }\r\n        .content {\r\n          margin-right: 20px;\r\n        }\r\n        .issue:hover {\r\n          border-top: 1px solid #6739b6;\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n};\r\n\r\nDetail.getInitialProps = async ({ ctx }) => {\r\n  const { store, query } = ctx;\r\n  const { owner, name } = query;\r\n\r\n  const data = Promise.all([\r\n    await getApiData(ctx, `/repos/${owner}/${name}`),\r\n    await getApiData(ctx, `/repos/${owner}/${name}/readme`),\r\n    await getApiData(ctx, `/repos/${owner}/${name}/issues`),\r\n  ]);\r\n  console.log(data);\r\n  store.dispatch(actions.getDetailRepos(data[0]));\r\n  store.dispatch(actions.getRepoReadme(data[1]));\r\n  store.dispatch(actions.getRepoIssues(data[2]));\r\n\r\n  return {\r\n    owner,\r\n    name,\r\n  };\r\n};\r\n\r\nexport default Detail;\r\n"]},"metadata":{},"sourceType":"module"}